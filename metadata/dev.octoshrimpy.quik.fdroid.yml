Categories:
  - Phone & SMS
License: GPL-3.0-only
AuthorName: octoshrimpy
SourceCode: https://github.com/octoshrimpy/quik
IssueTracker: https://github.com/octoshrimpy/quik/issues
Translation: https://hosted.weblate.org/engage/quik/
Changelog: https://github.com/octoshrimpy/quik/releases
Liberapay: octoshrimpy

AutoName: QUIK

RepoType: git
Repo: https://github.com/octoshrimpy/quik
Binaries: https://github.com/octoshrimpy/quik/releases/download/v%v/QUIK-v%v-fdroid.apk

Builds:
  - versionName: 4.3.2
    versionCode: 2234
    commit: 12757fd7c3afd7e89e08f26b3ae1cfb7db61a096
    subdir: presentation
    output: build/outputs/apk/fdroid/*.apk
    rm:
      - repo
    prebuild:
      - sed -i -e '/gms/d' -e '/firebase/d' {.,..}/build.gradle
      - sed -i -e '/signingConfigs.release/d' -e '/throw/d' build.gradle
    build: gradle assembleFdroid

  - versionName: 4.3.4
    versionCode: 2236
    commit: 74dac04dd71f4310de9e2bab7caa95a83a695e02
    subdir: presentation
    sudo:
      - echo "deb https://deb.debian.org/debian bookworm main" > /etc/apt/sources.list.d/bookworm.list
      - apt-get update
      - apt-get install -y -t bookworm openjdk-17-jdk-headless
      - update-java-alternatives -s java-1.17.0-openjdk-amd64
    output: build/outputs/apk/fdroid/*.apk
    rm:
      - repo
    prebuild:
      - sed -i -e '/gms/d' -e '/firebase/d' {.,..}/build.gradle
      - sed -i -e '/signingConfigs.release/d' -e '/throw/d' build.gradle
    build: gradle assembleFdroid

AllowedAPKSigningKeys: 528b89a67e258635be2129a74e2744f9020b0b122708f8091b5fd3ca0c1d2ddf

AutoUpdateMode: Version
UpdateCheckMode: Tags ^v[0-9.]+$
UpdateCheckName: dev.octoshrimpy.quik
CurrentVersion: 4.3.4
CurrentVersionCode: 2236
