AntiFeatures:
  NonFreeNet:
    en-US: Connects to celestia.mobi and cvws.icloud-content.com for help/tutorials/add-ons
Categories:
  - Science & Education
License: GPL-2.0-or-later
AuthorName: Levin Li
AuthorEmail: celestia.mobile@outlook.com
WebSite: https://celestia.mobi/
SourceCode: https://github.com/celestiamobile/AndroidCelestia/
IssueTracker: https://github.com/celestiamobile/AndroidCelestia/issues/
Changelog: https://github.com/celestiamobile/AndroidCelestia/releases/

AutoName: Celestia

RepoType: git
Repo: https://github.com/celestiamobile/AndroidCelestia.git

Builds:
  - versionName: 1.7.1
    versionCode: 521
    commit: a2cd9c4c7570b7a82302f9ce7f28be18c011e71f
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.3
    versionCode: 535
    commit: 31c68170e0c2132d1c6773c37dc6fb31acb19540
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.5
    versionCode: 541
    commit: 8c65de844d7f1ac9bc8731a7c6f0f66845b098eb
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.6
    versionCode: 544
    commit: 4cd94191d00a9989ca6e0854539bfd6e0e2dbeea
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.7
    versionCode: 562
    commit: 34636efe9a0565e0e38108e06e85ad147df27157
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.8
    versionCode: 570
    commit: 94f1195f5768534115669e003a2c28aa27294e45
    timeout: 30000
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.10
    versionCode: 580
    commit: 59cad59534b194ce910ea4e2c20732f7baeb3b68
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.11
    versionCode: 586
    commit: 1898b395b3aee8ac1b4abe5af9de664138f406af
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake csh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.12
    versionCode: 593
    commit: 435cb5a495bfb2c7bb14f3bc2ed226a4f8257d20
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.7.13
    versionCode: 598
    commit: f3b67e223867d78ed167f882d822de5b6a2d46db
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.8.0
    versionCode: 606
    commit: a8821d31765e774c288d21ad6c3b844d3effbcac
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.8.2
    versionCode: 612
    commit: b8dadc1411673ba8d02352f8904209c92c1d3d10
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.8.3
    versionCode: 615
    commit: 35ddb6ac193fac3f305052e479f498cc4d50024a
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.8.7
    versionCode: 622
    commit: 316730b04b9e6c4c724e8a3868d79a876221d1ac
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.8.8
    versionCode: 632
    commit: cf88f5abec47d91092e34923c787d4edf97cdb21
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - sed -i -e '/android-build-gradle/s/8.12.0/8.11.1/' ../gradle/libs.versions.toml
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.9.0
    versionCode: 639
    commit: aaa0b899cf6fef3c96d35943149f5307a2239e30
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - sed -i -e '/android-build-gradle/s/8.13.0/8.11.1/' ../gradle/libs.versions.toml
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.9.2
    versionCode: 643
    commit: 6878abfb084a51c8e8d31e62d2d54d2832d40079
    timeout: 30000
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib gettext gperf g++-multilib make meson
        ncompress wget xz-utils zsh imagemagick
    gradle:
      - unofficial
    prebuild:
      - sed -i -e '/android-build-gradle/s/8.13.0/8.11.1/' ../gradle/libs.versions.toml
      - export CELESTIA_HASH=$(sed -nr 's/^Celestia=(.*)$/\1/p' ../versions.txt)
      - export CONTENT_HASH=$(sed -nr 's/^CelestiaContent=(.*)$/\1/p' ../versions.txt)
      - export LOC_HASH=$(sed -nr 's/^CelestiaLocalization=(.*)$/\1/p' ../versions.txt)
      - export DEP_HASH=$(sed -nr 's/^apple-android=(.*)$/\1/p' ../versions.txt)
      - cd ../../ && mkdir deps && cd deps
      - git clone https://dev.azure.com/CelestiaProject/Celestia/_git/apple-android
      - git clone --recurse-submodules https://github.com/celestiamobile/Celestia
      - git clone https://github.com/CelestiaProject/CelestiaContent
      - git clone https://github.com/celestiamobile/CelestiaLocalization
      - cd Celestia && git reset --hard $CELESTIA_HASH && cd -
      - cd CelestiaContent && git reset --hard $CONTENT_HASH && cd -
      - cd CelestiaLocalization && git reset --hard $LOC_HASH && cd -
      - cd apple-android && git reset --hard $DEP_HASH
      - chmod +x download.sh prepare_icu.sh build_android.sh
      - mkdir tmp && cd tmp
      - cp ../download.sh .
      - cp ../versions.sh .
      - ./download.sh
      - mv json.hpp ../.
      - mkdir targz tarxz tgz tz
      - for i in $(ls | grep ".tar.gz"); do cd "targz"; tar -xzf "../${i}"; pwd; cd
        ../; done
      - for i in $(ls | grep ".tar.xz"); do  cd "tarxz"; tar -xJf "../${i}"; pwd;
        cd ../; done
      - for i in $(ls | grep ".tgz"); do cd "tgz"; tar -xzf "../${i}"; pwd; cd ../;
        done
      - for i in $(ls | grep ".tar.Z"); do cd "tz"; tar -xZf "../${i}"; pwd; cd ../;
        done
      - cd ../../../
      - mv deps space.celestia.mobilecelestia/.
    scandelete:
      - deps
    build:
      - mv ../deps/* ../../.
      - rm -d ../deps
      - sh ./downsize_textures.sh
      - cd ../../apple-android/tmp
      - cd targz; for i in $(ls); do tar -cvzf "../../${i}.tar.gz" "${i}"; done; cd
        ..
      - cd tarxz; for i in $(ls); do tar -cvJf "../../${i}.tar.xz" "${i}"; done; cd
        ..
      - cd tgz; for i in $(ls); do tar -cvzf "../../${i}.tgz" "${i}"; done; cd ..
      - cd tz; for i in $(ls); do tar -cvZf "../../${i}.tar.Z" "${i}"; done; cd ../../
      - rm -rf tmp
      - ./prepare_icu.sh
      - mkdir android
      - export SDK_PATH="$$SDK$$/ndk/$(ls $$SDK$$/ndk/)"
      - ./build_android.sh "$(pwd)/android" "$SDK_PATH"
      - cd ../space.celestia.mobilecelestia
      - mkdir dependencies
      - mv ../apple-android/android/* dependencies/.
      - cd ..
      - sh "$(pwd)/space.celestia.mobilecelestia/app/run_gperf.sh" "$(pwd)/Celestia"

  - versionName: 1.9.3
    versionCode: 649
    commit: e34fe9ce424ac44a0762c2dcbd9a3e494d916b23
    timeout: 10800
    subdir: app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless
      - update-alternatives --auto java
      - apt-get install cmake tcsh gcc-multilib g++-multilib gettext gperf make meson
        ncompress wget xz-utils imagemagick
    gradle:
      - unofficial
    srclibs:
      - celestia-apple-android-dependencies@1.0.22
      - Celestia@1_9_3_rc1
      - CelestiaContent@b6d3daa2260cdbd251336264eb62334a4d6e62c6
      - CelestiaLocalization@81d90fd8254763516000edfff0dace9975187358
    prebuild:
      - ln -s $$Celestia$$ ../..
      - ln -s $$CelestiaContent$$ ../..
      - ln -s $$CelestiaLocalization$$ ../..
      - mv $$celestia-apple-android-dependencies$$ ../dependencies
      - cd ../dependencies
      - sed -i -e 's/wget/wget -q/' download.sh build_android.sh
      - sed -i -e 's/$HOST_CC/"$HOST_CC"/' build_android.sh
      - bash download.sh
      - mkdir targz tarxz tgz
      - for i in *.tar.gz; do tar -xzf $i -C targz; done
      - for i in *.tar.xz; do tar -xJf $i -C tarxz; done
      - for i in *.tgz; do tar -xzf $i -C tgz; done
    scandelete:
      - dependencies
    build:
      - bash downsize_textures.sh
      - bash run_gperf.sh $$Celestia$$
      - cd ../dependencies
      - for i in $(ls targz); do tar -czf $i.tar.gz -C targz $i; done
      - for i in $(ls tarxz); do tar -cJf $i.tar.xz -C tarxz $i; done
      - for i in $(ls tgz); do tar -czf $i.tgz -C tgz $i; done
      - bash prepare_icu.sh
      - bash build_android.sh $(pwd) $$SDK$$/ndk/*

  - versionName: 1.9.6
    versionCode: 670
    commit: 821ee6e5072005d48fb9b813cd65017d453128c3
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake tcsh gcc-multilib g++-multilib gettext gperf make meson
        ncompress wget xz-utils imagemagick
    gradle:
      - unofficial
    srclibs:
      - celestia-apple-android-dependencies@1.0.36
      - Celestia@1_9_4_rc1
      - CelestiaContent@7c1a1f7f9189b5c207d0ef185e880077136716a3
      - CelestiaLocalization@a93bcf2e40561136e2d9d66a54bff5f5336ae723
    prebuild:
      - ln -s $$Celestia$$ ../..
      - ln -s $$CelestiaContent$$ ../..
      - ln -s $$CelestiaLocalization$$ ../..
      - mv $$celestia-apple-android-dependencies$$ ../dependencies
      - cd ../dependencies
      - sed -i -e 's/wget/wget -q/' download.sh build_android.sh
      - bash download.sh
      - mkdir targz tarxz tgz
      - for i in *.tar.gz; do tar -xzf $i -C targz; done
      - for i in *.tar.xz; do tar -xJf $i -C tarxz; done
      - for i in *.tgz; do tar -xzf $i -C tgz; done
    scandelete:
      - dependencies
    build:
      - bash downsize_textures.sh
      - bash run_gperf.sh $$Celestia$$
      - cd ../dependencies
      - for i in $(ls targz); do tar -czf $i.tar.gz -C targz $i; done
      - for i in $(ls tarxz); do tar -cJf $i.tar.xz -C tarxz $i; done
      - for i in $(ls tgz); do tar -czf $i.tgz -C tgz $i; done
      - bash prepare_icu.sh
      - bash build_android.sh $(pwd) $$SDK$$/ndk/*

  - versionName: 1.9.7
    versionCode: 682
    commit: fe4198674eb662633d857fe3b6c41caa464803d8
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake tcsh gcc-multilib g++-multilib gettext gperf make meson
        ncompress wget xz-utils imagemagick
    gradle:
      - unofficial
    srclibs:
      - Celestia@1_9_7_rc1
      - CelestiaContent@9cdd5d71ae696fa9803f33e512e918bd9799e49c
      - CelestiaLocalization@a93bcf2e40561136e2d9d66a54bff5f5336ae723
      - celestia-apple-android-dependencies@1.0.36
    prebuild:
      - ln -s $$Celestia$$ ../..
      - ln -s $$CelestiaContent$$ ../..
      - ln -s $$CelestiaLocalization$$ ../..
      - mv $$celestia-apple-android-dependencies$$ ../dependencies
      - cd ../dependencies
      - sed -i -e 's/wget/wget -q/' download.sh build_android.sh
      - bash download.sh
      - mkdir targz tarxz tgz
      - for i in *.tar.gz; do tar -xzf $i -C targz; done
      - for i in *.tar.xz; do tar -xJf $i -C tarxz; done
      - for i in *.tgz; do tar -xzf $i -C tgz; done
    scandelete:
      - dependencies
    build:
      - bash downsize_textures.sh
      - bash run_gperf.sh $$Celestia$$
      - cd ../dependencies
      - for i in $(ls targz); do tar -czf $i.tar.gz -C targz $i; done
      - for i in $(ls tarxz); do tar -cJf $i.tar.xz -C tarxz $i; done
      - for i in $(ls tgz); do tar -czf $i.tgz -C tgz $i; done
      - bash prepare_icu.sh
      - bash build_android.sh $(pwd) $$SDK$$/ndk/*

  - versionName: 1.9.8
    versionCode: 687
    commit: 414ab8cbba93d50708b29ea1942bdaa5adc6578d
    subdir: app
    sudo:
      - apt-get update
      - apt-get install cmake tcsh gcc-multilib g++-multilib gettext gperf make meson
        ncompress wget xz-utils imagemagick
    gradle:
      - unofficial
    srclibs:
      - Celestia@1_9_7_rc1
      - CelestiaContent@9cdd5d71ae696fa9803f33e512e918bd9799e49c
      - CelestiaLocalization@a93bcf2e40561136e2d9d66a54bff5f5336ae723
      - celestia-apple-android-dependencies@1.0.36
    prebuild:
      - ln -s $$Celestia$$ ../..
      - ln -s $$CelestiaContent$$ ../..
      - ln -s $$CelestiaLocalization$$ ../..
      - mv $$celestia-apple-android-dependencies$$ ../dependencies
      - cd ../dependencies
      - sed -i -e 's/wget/wget -q/' download.sh build_android.sh
      - bash download.sh
      - mkdir targz tarxz tgz
      - for i in *.tar.gz; do tar -xzf $i -C targz; done
      - for i in *.tar.xz; do tar -xJf $i -C tarxz; done
      - for i in *.tgz; do tar -xzf $i -C tgz; done
      - sdkmanager 'cmake;4.1.2'
    scandelete:
      - dependencies
    build:
      - bash downsize_textures.sh
      - bash run_gperf.sh $$Celestia$$
      - cd ../dependencies
      - for i in $(ls targz); do tar -czf $i.tar.gz -C targz $i; done
      - for i in $(ls tarxz); do tar -cJf $i.tar.xz -C tarxz $i; done
      - for i in $(ls tgz); do tar -czf $i.tgz -C tgz $i; done
      - bash prepare_icu.sh
      - bash build_android.sh $(pwd) $$SDK$$/ndk/*

MaintainerNotes: |-
  Celestia for android requires 4 more repositories to build:
    - Celestia;
    - CelestiaContent;
    - CelestiaLocalization;
    - apple-android-dependencies (contains build scripts for dependencies).
  These repositories need to be present in parent directory of AndroidCelestia.
  Commit hashes for these repositories are located upstream in 'versions.txt'
  file. We parse this file to get the correct hashes for dependencies.

AutoUpdateMode: None
UpdateCheckMode: Tags
CurrentVersion: 1.9.8
CurrentVersionCode: 687
