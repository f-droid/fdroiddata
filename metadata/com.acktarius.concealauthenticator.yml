Categories:
  - Password & 2FA
License: BSD-3-Clause
AuthorName: acktarius (Conceal Network Developer)
AuthorEmail: acktarius@protonmail.com
WebSite: https://github.com/Acktarius/Conceal-2fa-app/wiki
SourceCode: https://github.com/Acktarius/Conceal-2fa-app
IssueTracker: https://github.com/Acktarius/Conceal-2fa-app/issues
Changelog: https://github.com/Acktarius/Conceal-2fa-app/releases
Donate: https://cryptocurrencycheckout.com/donate/mDuM46iL4c

AutoName: Conceal Authenticator

RepoType: git
Repo: https://github.com/Acktarius/Conceal-2fa-app.git

Builds:
  - versionName: 1.1.1
    versionCode: 37
    commit: 5217de74064a4cbf04abad1a57b5be19ac6b760d
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless python-is-python3
      - update-alternatives --auto java
      - sysctl fs.inotify.max_user_watches=524288 || true
      - curl -Lo node.tar.gz https://nodejs.org/download/release/v22.20.0/node-v22.20.0-linux-x64.tar.gz
      - echo "eeaccb0378b79406f2208e8b37a62479c70595e20be6b659125eb77dd1ab2a29 node.tar.gz"
        | sha256sum -c -
      - tar xzf node.tar.gz --strip-components=1 -C /usr/local/
    init:
      - cd ../..
      - npm cache clean || true
      - npm_config_build_from_source=true npm ci
      - rm -rf node_modules/expo-dev-client node_modules/expo-dev-menu node_modules/expo-dev-launcher
        node_modules/@biomejs/biome || true
    gradle:
      - yes
    prebuild:
      - cd ../..
      - printf "C\n" | ./build-android.sh n y
      - python ./scripts/fix-for-fdroid.py
      - sed -i -e '/artifacts/d' android/build.gradle
    scanignore:
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-conceal-crypto/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
    scandelete:
      - node_modules

AutoUpdateMode: Version
UpdateCheckMode: Tags .*-f-droid
UpdateCheckData: .env|ANDROID_VERSION_CODE=(\d+)|.|APP_VERSION=([^\s]+)
CurrentVersion: 1.1.1
CurrentVersionCode: 37
