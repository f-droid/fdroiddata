AntiFeatures:
  TetheredNet:
    en-US: Rely on hardcoded Nostr relays
Categories:
  - Internet
  - Messaging
License: GPL-3.0-or-later
AuthorName: psic4t
WebSite: https://nospeak.chat
SourceCode: https://github.com/psic4t/nospeak
IssueTracker: https://github.com/psic4t/nospeak/issues

AutoName: nospeak

RepoType: git
Repo: https://github.com/psic4t/nospeak.git

Builds:
  - versionName: v0.9.19
    versionCode: 90190
    commit: 135616743984b7dddebc54162674aad577381054
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless npm
      - update-alternatives --auto java
    init: npm ci
    gradle:
      - yes
    prebuild:
      - cd ..
      - npm run build:android
    scandelete:
      - node_modules

  - versionName: 0.9.20
    versionCode: 90200
    commit: 387630447e0d9db3b7bfe6f6de1dc75a7aed3717
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless npm
      - update-alternatives --auto java
    init: npm ci
    gradle:
      - yes
    prebuild:
      - cd ..
      - npm run build:android
    scandelete:
      - node_modules

  - versionName: 0.9.21
    versionCode: 90210
    commit: aa30092f6ddb5017ad4ee9d8a9438281ffe769c0
    subdir: android/app
    sudo:
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie openjdk-21-jdk-headless npm
      - update-alternatives --auto java
    init: npm ci
    gradle:
      - yes
    prebuild:
      - cd ..
      - npm run build:android
    scandelete:
      - node_modules

AutoUpdateMode: Version
UpdateCheckMode: Tags
UpdateCheckData: package.json|"versionCode":\s*(\d+)|package.json|"version":\s*"([\d.]+)"
CurrentVersion: 0.9.21
CurrentVersionCode: 90210
