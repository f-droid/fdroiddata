Categories:
  - Connectivity
  - Security
  - VPN & Proxy
License: MIT
AuthorName: Zane Schepke
AuthorEmail: support@wgtunnel.com
WebSite: https://wgtunnel.com
SourceCode: https://github.com/wgtunnel/wgtunnel
IssueTracker: https://github.com/wgtunnel/wgtunnel/issues
Translation: https://hosted.weblate.org/projects/wg-tunnel
Changelog: https://github.com/wgtunnel/wgtunnel/releases
Donate: https://wgtunnel.com/donate/
Liberapay: zaneschepke
Bitcoin: bc1qu6dwlwhav7cwp5gv3kyv3cpwrjrra80p75js6u

AutoName: WG Tunnel

RepoType: git
Repo: https://github.com/wgtunnel/wgtunnel.git
Binaries: https://github.com/wgtunnel/wgtunnel/releases/download/%v/wgtunnel-fdroid-release-%v.apk

Builds:
  - versionName: 3.6.6
    versionCode: 36600
    commit: 7cbe3311c943bea7eeae1bfc126615a52893411d
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.7.0
    versionCode: 37000
    commit: 01e15099ca5d4a4fc88a1117b778160943b386f2
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.7.1
    versionCode: 37100
    commit: 53ff3bb1e581d9f11dea14a0067d2b637e17cd4c
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.7.2
    versionCode: 37200
    commit: c71c4e5b290180cb1589e98121fa6cb6c322a5c2
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.8.1
    versionCode: 38100
    commit: e77966d70ac9ff0f5d8af72626ff456d4ab071cb
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.8.2
    versionCode: 38200
    commit: 4d64d058dec8f2459a4ee4904f41e91936af4078
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.8.3
    versionCode: 38300
    commit: d3d70ab2e7462877f2e700ac7fc52a2253030ac2
    subdir: app
    sudo:
      - export CPUS_MAX=16
      - export CPUS=$(getconf _NPROCESSORS_ONLN)
      - for (( c=$CPUS_MAX; c<$CPUS; c++ )) ; do echo 0 > /sys/devices/system/cpu/cpu$c/online
        ; done
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts
    postbuild:
      - curl -Lo upstream.apk https://github.com/zaneschepke/wgtunnel/releases/download/$$VERSION$$/wgtunnel-fdroid-release-$$VERSION$$.apk
      - unzip -q upstream.apk -d apk
      - export hash=$(sha256sum apk/assets/dexopt/baseline.prof)
      - rm -rf apk upstream.apk
      - for i in {1..10}; do unzip -q $$OUT$$ -d apk; sha256sum -c - <<< $hash &&
        break; sha256sum apk/assets/dexopt/baseline.prof; rm -fr apk; gradle clean
        assembleFdroidRelease; done

  - versionName: 3.9.0
    versionCode: 38900
    commit: af759a3909432a58fcdd5e26a4aef6d4c492d765
    subdir: app
    sudo:
      - export CPUS_MAX=16
      - export CPUS=$(getconf _NPROCESSORS_ONLN)
      - for (( c=$CPUS_MAX; c<$CPUS; c++ )) ; do echo 0 > /sys/devices/system/cpu/cpu$c/online
        ; done
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts
    postbuild:
      - curl -Lo upstream.apk https://github.com/wgtunnel/wgtunnel/releases/download/$$VERSION$$/wgtunnel-fdroid-release-$$VERSION$$.apk
      - unzip -q upstream.apk -d apk
      - export hash=$(sha256sum apk/assets/dexopt/baseline.prof)
      - rm -rf apk upstream.apk
      - for i in {1..10}; do unzip -q $$OUT$$ -d apk; sha256sum -c - <<< $hash &&
        break; sha256sum apk/assets/dexopt/baseline.prof; rm -fr apk; gradle clean
        assembleFdroidRelease; done

  - versionName: 3.9.2
    versionCode: 39200
    commit: b8deb7b64425ed72312c3668a53720212b66b731
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.9.3
    versionCode: 39300
    commit: feec7f0ffcef8d7f884b53726bd6e5c4132da1ef
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.9.4
    versionCode: 39400
    commit: 21e56cda801a9859d05f03922b8a65b1cee7f428
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 3.9.5
    versionCode: 39500
    commit: 99cd1d917a5288a9361df1324d47dffd36336c1b
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 4.0.3
    versionCode: 40003
    commit: b7e4f3c3e58a7f6d73cccf2b08bfb4a37c802241
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 4.1.0
    versionCode: 40100
    commit: a77aa4d92f51ad645d76bdfb06ff0d78def7dc51
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

  - versionName: 4.1.1
    versionCode: 40101
    commit: b2bd8574ec1e24ef734db744811526bec03eeadb
    subdir: app
    gradle:
      - fdroid
    prebuild:
      - sed -i -e '/com.google.gms/d' -e '/com.google.firebase/d' -e '/libs.androidx.core.google.shortcuts/d'
        build.gradle.kts
      - sed -i -e '/libs.google.services/d' -e '/libs.firebase/d' ../build.gradle.kts
      - sed -i -e '/gitea.zaneschepke.com/d' ../settings.gradle.kts

AllowedAPKSigningKeys: 5204d82e766e8aa14dcbb06dc70aebae2bdd812d4d6203cd521a8a685d7d3d80

ArchivePolicy: 0
AutoUpdateMode: None
UpdateCheckMode: None
UpdateCheckData: buildSrc/src/main/kotlin/Constants.kt|VERSION_CODE = (\d+)|.|VERSION_NAME
  = "(.+)"
CurrentVersion: 4.1.1
CurrentVersionCode: 40101
