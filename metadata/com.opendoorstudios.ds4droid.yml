AntiFeatures:
  - UpstreamNonFree
Categories:
  - Games
License: GPL-3.0-or-later
WebSite: http://nds4droid.com
SourceCode: https://github.com/jquesnelle/nds4droid
IssueTracker: https://github.com/jquesnelle/nds4droid/issues
Donate: http://jeffq.com/blog/nds4droid

AutoName: nds4droid
Summary: Nintendo DS emulator
Description: |-
    nds4droid is a Nintendo DS emulator, based on DeSmuME. It is currently in its
    infancy but does support most of the features one would expect in an emulator.
    Runs on x86 natively.

    Unlike official version this build does not support RAR archives.

RepoType: git
Repo: https://github.com/jquesnelle/nds4droid

Builds:
  - versionName: '13'
    versionCode: 13
    commit: release13
    patch:
      - fix_stuff.patch
    rm:
      - jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/armeabi-v7a/libc.so
    extlibs:
      - acra/acra-4.2.3.jar
    target: android-15
    buildjni:
      - yes

  - versionName: '21'
    versionCode: 21
    commit: release21
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-16
    buildjni:
      - yes

  - versionName: '23'
    versionCode: 23
    commit: release23
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-16
    buildjni:
      - yes

  - versionName: '25'
    versionCode: 25
    commit: release25
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-16
    buildjni:
      - yes

  - versionName: '26'
    versionCode: 26
    commit: release26
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-16
    buildjni:
      - yes

  - versionName: '27'
    versionCode: 27
    commit: release27
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-17
    buildjni:
      - yes

  - versionName: '28'
    versionCode: 28
    commit: release28
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-17
    buildjni:
      - yes

  - versionName: '29'
    versionCode: 29
    commit: release29
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-17
    buildjni:
      - yes

  - versionName: '30'
    versionCode: 30
    commit: release30
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-17
    buildjni:
      - yes

  - versionName: '40'
    versionCode: 40
    commit: release40
    patch:
      - fix_stuff_2.patch
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: rm -rf jni/desmume/src/android/7z/CPP/7zip/Archive/obj/local/*
    target: android-17
    buildjni:
      - yes

  - versionName: '42'
    versionCode: 423
    commit: release42
    patch:
      - fix_stuff_2.patch
    forcevercode: true
    extlibs:
      - acra/acra-4.2.3.jar
    prebuild: echo 'APP_ABI=armeabi-v7a' >> jni/Application.mk
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
    buildjni:
      - yes

  - versionName: '44'
    versionCode: 441
    commit: release44
    patch:
      - fix_stuff_2.patch
    forcevercode: true
    prebuild: echo 'APP_ABI=x86' >> jni/Application.mk
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
    buildjni:
      - yes

  - versionName: '44'
    versionCode: 443
    commit: release44
    patch:
      - fix_stuff_2.patch
    forcevercode: true
    prebuild: echo 'APP_ABI=armeabi-v7a' >> jni/Application.mk
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
    buildjni:
      - yes

  - versionName: '45'
    versionCode: 451
    commit: release45
    patch:
      - fix_stuff_2.patch
    forcevercode: true
    prebuild:
      - echo 'APP_ABI=x86' >> jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/com/opendoorstudios/ds4droid/MainActivity.java
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
      - libs
    buildjni:
      - yes

  - versionName: '45'
    versionCode: 453
    commit: release45
    patch:
      - fix_stuff_2.patch
    forcevercode: true
    prebuild:
      - echo 'APP_ABI=armeabi-v7a' >> jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/com/opendoorstudios/ds4droid/MainActivity.java
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
      - libs
    buildjni:
      - yes

  - versionName: '46'
    versionCode: 461
    commit: release46
    patch:
      - remove-rar-46.patch
    forcevercode: true
    rm:
      - libs/ouya-sdk.jar
    prebuild:
      - echo 'APP_ABI=x86' >> jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/com/opendoorstudios/ds4droid/MainActivity.java
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
    buildjni:
      - yes

  - versionName: '46'
    versionCode: 463
    commit: release46
    patch:
      - remove-rar-46.patch
    forcevercode: true
    rm:
      - libs/ouya-sdk.jar
    prebuild:
      - echo 'APP_ABI=armeabi-v7a' >> jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/com/opendoorstudios/ds4droid/MainActivity.java
    scanignore:
      - jni/android-ndk-profiler
    scandelete:
      - jni/desmume
    buildjni:
      - yes

  - versionName: '47'
    versionCode: 471
    disable: ndk-build issue
    commit: release47
    subdir: app
    gradle:
      - yes
    forcevercode: true
    rm:
      - app/libs/ouya-sdk.jar
    prebuild:
      - echo 'APP_ABI=x86' >> src/main/jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/main/java/com/opendoorstudios/ds4droid/MainActivity.java
      - sed -i -e '/ouya/d' build.gradle
    scanignore:
      - app/src/main/jni/android-ndk-profiler
    scandelete:
      - app/src/main/jni/desmume
    buildjni:
      - yes
    ndk: r10e

  - versionName: '47'
    versionCode: 473
    disable: ndk-build issue
    commit: release47
    subdir: app
    gradle:
      - yes
    forcevercode: true
    rm:
      - app/libs/ouya-sdk.jar
    prebuild:
      - echo 'APP_ABI=armeabi-v7a' >> src/main/jni/Application.mk
      - sed -i 's/IS_OUYA =.*/IS_OUYA = false;/' src/main/java/com/opendoorstudios/ds4droid/MainActivity.java
      - sed -i -e '/ouya/d' build.gradle
    scanignore:
      - app/src/main/jni/android-ndk-profiler
    scandelete:
      - app/src/main/jni/desmume
    buildjni:
      - yes
    ndk: r10e

MaintainerNotes: |-
    +0: - (upstream)
    +1: x86
    +2: arm
    +3: armv7 (CV)

ArchivePolicy: 6 versions
AutoUpdateMode: None
UpdateCheckMode: Tags
VercodeOperation: '%c*10 + 3'
CurrentVersion: '47'
CurrentVersionCode: 473
