Categories:
  - Browser
  - Ebook Reader
  - Reading
License: Apache-2.0
AuthorName: Silas S. Brown
SourceCode: https://gitlab.com/ssb22/pinyin-web-and-epub
IssueTracker: https://gitlab.com/ssb22/pinyin-web-and-epub/-/issues

AutoName: Pinyin Web & EPUB and topolects

RepoType: git
Repo: https://gitlab.com/ssb22/pinyin-web-and-epub.git

Builds:
  - versionName: 2.12.59
    versionCode: 90
    commit: 7ae1b4dd59b2c35bb494cc1c5ddcac0c4a81a713
    output: org.ucam.ssb22.pinyinfdroid.apk
    build:
      - sdkmanager 'platforms;android-34' 'build-tools;34.0.0'
      - PLATFORM=$$SDK$$/platforms/android-34
      - BUILD_TOOLS=$$SDK$$/build-tools/34.0.0
      - mkdir -p bin
      - $BUILD_TOOLS/aapt package -0 '' -v -f -I $PLATFORM/android.jar -M AndroidManifest.xml
        -A assets -S res -m -J gen -F bin/resources.ap_
      - find src -type f -name '*.java' > argfile
      - javac -source 1.8 -target 1.8 -Xlint:deprecation -classpath $PLATFORM/android.jar
        -sourcepath 'src;gen' -d bin gen/org/ucam/ssb22/pinyinfdroid/R.java @argfile
      - rm argfile
      - $BUILD_TOOLS/d8 --lib $PLATFORM/android.jar --min-api 1 --output bin $(find
        bin -type f -name '*.class')
      - cd bin
      - $BUILD_TOOLS/aapt add -0 '' resources.ap_ classes.dex
      - cd ..
      - $BUILD_TOOLS/zipalign 4 bin/resources.ap_ org.ucam.ssb22.pinyinfdroid.apk

  - versionName: 2.12.61
    versionCode: 92
    commit: 2815ea25780b9c660e9fd5fcd122c4ff2358dd58
    output: org.ucam.ssb22.pinyinfdroid.apk
    build:
      - sdkmanager 'platforms;android-34' 'build-tools;34.0.0'
      - PLATFORM=$$SDK$$/platforms/android-34
      - BUILD_TOOLS=$$SDK$$/build-tools/34.0.0
      - mkdir -p bin
      - $BUILD_TOOLS/aapt package -0 '' -v -f -I $PLATFORM/android.jar -M AndroidManifest.xml
        -A assets -S res -m -J gen -F bin/resources.ap_
      - find src -type f -name '*.java' > argfile
      - javac -source 1.8 -target 1.8 -Xlint:deprecation -classpath $PLATFORM/android.jar
        -sourcepath 'src;gen' -d bin gen/org/ucam/ssb22/pinyinfdroid/R.java @argfile
      - rm argfile
      - $BUILD_TOOLS/d8 --lib $PLATFORM/android.jar --min-api 1 --output bin $(find
        bin -type f -name '*.class')
      - cd bin
      - $BUILD_TOOLS/aapt add -0 '' resources.ap_ classes.dex
      - cd ..
      - $BUILD_TOOLS/zipalign 4 bin/resources.ap_ org.ucam.ssb22.pinyinfdroid.apk

  - versionName: 2.12.62
    versionCode: 93
    commit: 7814526a696708c317c901105d2597c8ceab2239
    output: org.ucam.ssb22.pinyinfdroid.apk
    build:
      - sdkmanager 'platforms;android-34' 'build-tools;34.0.0'
      - PLATFORM=$$SDK$$/platforms/android-34
      - BUILD_TOOLS=$$SDK$$/build-tools/34.0.0
      - mkdir -p bin
      - $BUILD_TOOLS/aapt package -0 '' -v -f -I $PLATFORM/android.jar -M AndroidManifest.xml
        -A assets -S res -m -J gen -F bin/resources.ap_
      - find src -type f -name '*.java' > argfile
      - javac -source 1.8 -target 1.8 -Xlint:deprecation -classpath $PLATFORM/android.jar
        -sourcepath 'src;gen' -d bin gen/org/ucam/ssb22/pinyinfdroid/R.java @argfile
      - rm argfile
      - $BUILD_TOOLS/d8 --lib $PLATFORM/android.jar --min-api 1 --output bin $(find
        bin -type f -name '*.class')
      - cd bin
      - $BUILD_TOOLS/aapt add -0 '' resources.ap_ classes.dex
      - cd ..
      - $BUILD_TOOLS/zipalign 4 bin/resources.ap_ org.ucam.ssb22.pinyinfdroid.apk

AutoUpdateMode: Version
UpdateCheckMode: Tags
UpdateCheckName: Ignore
CurrentVersion: 2.12.62
CurrentVersionCode: 93
