Categories:
  - Connectivity
  - Messaging
License: GPL-3.0-or-later
AuthorName: MLM Games
AuthorEmail: mlm.gamestudio@gmail.com
AuthorWebSite: https://ragebreaker.itch.io/
WebSite: https://ragebreaker.itch.io/mages
SourceCode: https://github.com/mlm-games/mages
IssueTracker: https://github.com/mlm-games/mages/issues
Donate: https://github.com/sponsors/mlm-games
Liberapay: mlm-games

AutoName: Mages

RepoType: git
Repo: https://github.com/mlm-games/mages.git

Builds:
  - versionName: 0.9.9
    versionCode: 274
    commit: bfa875c819512462a96e654333829e4260d5aeed
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86.apk build/outputs/apk/release/app-x86-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86

  - versionName: 0.9.9
    versionCode: 275
    commit: bfa875c819512462a96e654333829e4260d5aeed
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86_64-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86_64.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86_64.apk build/outputs/apk/release/app-x86_64-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86_64

  - versionName: 0.9.9
    versionCode: 276
    commit: bfa875c819512462a96e654333829e4260d5aeed
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-armeabi-v7a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-armeabi-v7a*.apk build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=armeabi-v7a

  - versionName: 0.9.9
    versionCode: 277
    commit: bfa875c819512462a96e654333829e4260d5aeed
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-arm64-v8a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-arm64-v8a*.apk build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=arm64-v8a

  - versionName: 1.0.1
    versionCode: 298
    commit: 1141237e11728a3e79e0ec6be3cf4930f964edf2
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86.apk build/outputs/apk/release/app-x86-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86

  - versionName: 1.0.1
    versionCode: 299
    commit: 1141237e11728a3e79e0ec6be3cf4930f964edf2
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86_64-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86_64.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86_64.apk build/outputs/apk/release/app-x86_64-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86_64

  - versionName: 1.0.1
    versionCode: 300
    commit: 1141237e11728a3e79e0ec6be3cf4930f964edf2
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-armeabi-v7a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-armeabi-v7a*.apk build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=armeabi-v7a

  - versionName: 1.0.1
    versionCode: 301
    commit: 1141237e11728a3e79e0ec6be3cf4930f964edf2
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-arm64-v8a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-arm64-v8a*.apk build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=arm64-v8a

  - versionName: 1.0.2
    versionCode: 308
    commit: 09bc8ddf70e714edb0c7b83cf5e2d3f9f7e9cadc
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86.apk build/outputs/apk/release/app-x86-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86

  - versionName: 1.0.2
    versionCode: 309
    commit: 09bc8ddf70e714edb0c7b83cf5e2d3f9f7e9cadc
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86_64-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86_64.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86_64.apk build/outputs/apk/release/app-x86_64-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86_64

  - versionName: 1.0.2
    versionCode: 310
    commit: 09bc8ddf70e714edb0c7b83cf5e2d3f9f7e9cadc
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-armeabi-v7a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-armeabi-v7a*.apk build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=armeabi-v7a

  - versionName: 1.0.2
    versionCode: 311
    commit: 09bc8ddf70e714edb0c7b83cf5e2d3f9f7e9cadc
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-arm64-v8a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-arm64-v8a*.apk build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=arm64-v8a

  - versionName: 1.1.1
    versionCode: 318
    commit: 5cc1bf3faa1f4569b643634e5e092f3913e10b28
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86.apk build/outputs/apk/release/app-x86-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86

  - versionName: 1.1.1
    versionCode: 319
    commit: 5cc1bf3faa1f4569b643634e5e092f3913e10b28
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-x86_64-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-x86_64.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-x86_64.apk build/outputs/apk/release/app-x86_64-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=x86_64

  - versionName: 1.1.1
    versionCode: 320
    commit: 5cc1bf3faa1f4569b643634e5e092f3913e10b28
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-armeabi-v7a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-armeabi-v7a*.apk build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=armeabi-v7a

  - versionName: 1.1.1
    versionCode: 321
    commit: 5cc1bf3faa1f4569b643634e5e092f3913e10b28
    subdir: composeApp
    sudo:
      - mkdir -p /home/runner
      - chown vagrant /home/runner
      - echo "deb http://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y openjdk-21-jdk-headless
      - update-java-alternatives -a
    output: build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    binary: https://github.com/mlm-games/mages/releases/download/%v/mages-%v-arm64-v8a.apk
    srclibs:
      - rustup@1.28.2
    build:
      - export CARGO_HOME=/home/runner/.cargo
      - export RUST_VERSION=$(sed -n -E 's/channel = "(.*)"/\1/p' ../rust-toolchain.toml)
      - $$rustup$$/rustup-init.sh -y --default-toolchain $RUST_VERSION --target aarch64-linux-android
        --target armv7-linux-androideabi --target x86_64-linux-android --target i686-linux-android
      - source $CARGO_HOME/env
      - export CARGO_NDK_VERSION=$(sed -E -n 's/.*CARGO_NDK_VERSION.*"(.*)".*/\1/p'
        ../.github/workflows/release-android.yml)
      - cargo install cargo-ndk@$CARGO_NDK_VERSION --locked
      - gradle :composeApp:assembleRelease --no-daemon
      - cp build/outputs/apk/release/mages-*-arm64-v8a*.apk build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    ndk: r27
    gradleprops:
      - enableApkSplits=true
      - includeUniversalApk=false
      - targetAbi=arm64-v8a

AllowedAPKSigningKeys: 4aed2f691df64a7b0fea25a6b8c80183c6dc520e049dac0178defa1d6472228f

AutoUpdateMode: Version
UpdateCheckMode: Tags
VercodeOperation:
  - '%c - 3'
  - '%c - 2'
  - '%c - 1'
  - '%c'
CurrentVersion: 1.1.1
CurrentVersionCode: 321
