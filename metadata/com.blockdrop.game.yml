Categories:
  - Games
License: MIT
AuthorName: Brandon Dick
AuthorEmail: brandon@presley.nz
WebSite: https://github.com/brandonp2412/BlockDrop
SourceCode: https://github.com/brandonp2412/BlockDrop
IssueTracker: https://github.com/brandonp2412/BlockDrop/issues

AutoName: Block Drop

RepoType: git
Repo: https://github.com/brandonp2412/BlockDrop.git

Builds:
  - versionName: 1.0.9
    versionCode: 61
    commit: 34cd77f788578ff9735ba979d1837204e953d238
    submodules: true
    output: build/app/outputs/flutter-apk/app-x86_64-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-x86_64-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - BASE_VERSION_CODE=$(grep -oP 'version:\s+\d+\.\d+\.\d+\+\K\d+' pubspec.yaml)
      - BUILD_NUMBER=$(( $BASE_VERSION_CODE * 10 + 1 ))
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-x64"
        --build-number=$BUILD_NUMBER
    ndk: r27

  - versionName: 1.0.9
    versionCode: 62
    commit: 34cd77f788578ff9735ba979d1837204e953d238
    submodules: true
    output: build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-armeabi-v7a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - BASE_VERSION_CODE=$(grep -oP 'version:\s+\d+\.\d+\.\d+\+\K\d+' pubspec.yaml)
      - BUILD_NUMBER=$(( $BASE_VERSION_CODE * 10 + 2 ))
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm"
        --build-number=$BUILD_NUMBER
    ndk: r27

  - versionName: 1.0.9
    versionCode: 63
    commit: 34cd77f788578ff9735ba979d1837204e953d238
    submodules: true
    output: build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-arm64-v8a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - BASE_VERSION_CODE=$(grep -oP 'version:\s+\d+\.\d+\.\d+\+\K\d+' pubspec.yaml)
      - BUILD_NUMBER=$(( $BASE_VERSION_CODE * 10 + 3 ))
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm64"
        --build-number=$BUILD_NUMBER
    ndk: r27

  - versionName: 1.0.12
    versionCode: 91
    commit: 34a326d29bb0bb16209378e5702b21df4d495cc0
    submodules: true
    output: build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-armeabi-v7a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm"
    ndk: r27

  - versionName: 1.0.12
    versionCode: 92
    commit: 34a326d29bb0bb16209378e5702b21df4d495cc0
    submodules: true
    output: build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-arm64-v8a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm64"
    ndk: r27

  - versionName: 1.0.12
    versionCode: 93
    commit: 34a326d29bb0bb16209378e5702b21df4d495cc0
    submodules: true
    output: build/app/outputs/flutter-apk/app-x86_64-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-x86_64-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-x64"
    ndk: r27

  - versionName: 1.0.13
    versionCode: 101
    commit: 3fe3b9033a599a9b9f3b6133d10400e5d9fb9034
    submodules: true
    output: build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-armeabi-v7a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm"
    ndk: r27

  - versionName: 1.0.13
    versionCode: 102
    commit: 3fe3b9033a599a9b9f3b6133d10400e5d9fb9034
    submodules: true
    output: build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-arm64-v8a-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-arm64"
    ndk: r27

  - versionName: 1.0.13
    versionCode: 103
    commit: 3fe3b9033a599a9b9f3b6133d10400e5d9fb9034
    submodules: true
    output: build/app/outputs/flutter-apk/app-x86_64-release.apk
    binary: https://github.com/brandonp2412/BlockDrop/releases/download/v%v/app-x86_64-release.apk
    rm:
      - ios
      - linux
      - web
      - windows
      - macos
    prebuild:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - ./flutter/bin/flutter config --no-analytics
      - ./flutter/bin/flutter pub get
    scanignore:
      - flutter/bin/cache
    scandelete:
      - .pub-cache
      - flutter
    build:
      - export PUB_CACHE=$(pwd)/.pub-cache
      - flutter/bin/flutter config --no-analytics
      - flutter/bin/flutter build apk --split-per-abi --target-platform="android-x64"
    ndk: r27

AllowedAPKSigningKeys: 011ee1a6e4e5ecd675f67fbf3d78ad82614a7a7a3f24ed71cc9c417154a0f0fd

AutoUpdateMode: Version
UpdateCheckMode: Tags
VercodeOperation:
  - '%c * 10 + 1'
  - '%c * 10 + 2'
  - '%c * 10 + 3'
UpdateCheckData: pubspec.yaml|version:\s.+\+(\d+)|.|version:\s(.+)\+
CurrentVersion: 1.0.13
CurrentVersionCode: 103
