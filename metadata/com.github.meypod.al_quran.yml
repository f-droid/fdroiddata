Categories:
  - Reading
  - Religion
License: AGPL-3.0-only
AuthorName: Meypod
WebSite: https://meypod.github.io/al-quran/
SourceCode: https://github.com/meypod/al-quran
IssueTracker: https://github.com/meypod/al-quran/issues

AutoName: Al-Quran

RepoType: git
Repo: https://github.com/meypod/al-quran.git

Builds:
  - versionName: 1.0.0
    versionCode: 11
    commit: 4d8c02c017d8d0d22c4d3c76d2c7ae8d98e45a11
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-armeabi-v7a.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-arm"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

  - versionName: 1.0.0
    versionCode: 12
    commit: 4d8c02c017d8d0d22c4d3c76d2c7ae8d98e45a11
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-arm64-v8a.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-arm64"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

  - versionName: 1.0.0
    versionCode: 13
    commit: 4d8c02c017d8d0d22c4d3c76d2c7ae8d98e45a11
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-x86_64-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-x86_64.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-x64"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

  - versionName: 1.0.1
    versionCode: 21
    commit: 13e4fb4d54f47da6c22e7d018087989bfb045a7b
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-armeabi-v7a.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-arm"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

  - versionName: 1.0.1
    versionCode: 22
    commit: 13e4fb4d54f47da6c22e7d018087989bfb045a7b
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-arm64-v8a.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-arm64"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

  - versionName: 1.0.1
    versionCode: 23
    commit: 13e4fb4d54f47da6c22e7d018087989bfb045a7b
    sudo:
      - mkdir -p /home/runner/work/al-quran
      - chown -R vagrant /home/runner
    output: build/app/outputs/flutter-apk/app-x86_64-release.apk
    binary: https://github.com/meypod/al-quran/releases/download/v%v/AlQuran-%v-%c-x86_64.apk
    srclibs:
      - flutter@stable
      - reproducible-apk-tools@v0.3.0
    rm:
      - ios
      - linux
      - macos
      - web
      - windows
    prebuild:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - flutterVersion=$(sed -n -E "s/.*flutter-version:\ (.*)/\1/p" .github/workflows/build_android.yml)
      - '[[ $flutterVersion ]]'
      - git -C $$flutter$$ checkout -f $flutterVersion
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter config --no-analytics
      - $$flutter$$/bin/flutter pub get
      - popd
      - mv $repo com.github.meypod.al_quran
    scandelete:
      - .pub-cache
    build:
      - export repo=/home/runner/work/al-quran/al-quran
      - cd ..
      - mv com.github.meypod.al_quran $repo
      - pushd $repo
      - export PUB_CACHE=$(pwd)/.pub-cache
      - $$flutter$$/bin/flutter build apk --release --split-per-abi --target-platform="android-x64"
      - popd
      - mv $repo com.github.meypod.al_quran
    postbuild:
      - mv $$OUT$$ unaligned.apk
      - $$reproducible-apk-tools$$/zipalign.py --page-size 16 --pad-like-apksigner
        --replace unaligned.apk $$OUT$$

AllowedAPKSigningKeys: 85ccdf3ebb65b2e96d050ed4082e1ca6a490f9c225491c2bfe10dfd75992bb9c

AutoUpdateMode: Version
UpdateCheckMode: Tags v[\d.]+$
VercodeOperation:
  - '%c * 10 + 1'
  - '%c * 10 + 2'
  - '%c * 10 + 3'
UpdateCheckData: pubspec.yaml|version:\s.+\+(\d+)|.|version:\s(.+)\+
CurrentVersion: 1.0.1
CurrentVersionCode: 23
